<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- <script>
        !function () {
            var i = "analytics", analytics = window[i] = window[i] || []; if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else {
                analytics.invoked = !0; analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "screen", "once", "off", "on", "addSourceMiddleware", "addIntegrationMiddleware", "setAnonymousId", "addDestinationMiddleware", "register"]; analytics.factory = function (e) { return function () { if (window[i].initialized) return window[i][e].apply(window[i], arguments); var n = Array.prototype.slice.call(arguments); if (["track", "screen", "alias", "group", "page", "identify"].indexOf(e) > -1) { var c = document.querySelector("link[rel='canonical']"); n.push({ __t: "bpc", c: c && c.getAttribute("href") || void 0, p: location.pathname, u: location.href, s: location.search, t: document.title, r: document.referrer }) } n.unshift(e); analytics.push(n); return analytics } }; for (var n = 0; n < analytics.methods.length; n++) { var key = analytics.methods[n]; analytics[key] = analytics.factory(key) } analytics.load = function (key, n) { var t = document.createElement("script"); t.type = "text/javascript"; t.async = !0; t.setAttribute("data-global-segment-analytics-key", i); t.src = "https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js"; var r = document.getElementsByTagName("script")[0]; r.parentNode.insertBefore(t, r); analytics._loadOptions = n }; analytics._writeKey = "y24ndSgnTjChTVgc7sOAEocA4dpKyo8q";; analytics.SNIPPET_VERSION = "5.2.0";
                analytics.load("y24ndSgnTjChTVgc7sOAEocA4dpKyo8q");
                analytics.page();
            }
        }();
    </script> -->
    <script type="text/javascript">
        var clevertap = { event: [], profile: [], account: [], onUserLogin: [], notifications: [], privacy: [], region: 'sk1-staging-4' };
        // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
        clevertap.account.push({ "id": "WRK-485-456Z" });
        clevertap.privacy.push({ optOut: false }); //set the flag to true, if the user of the device opts out of sharing their data
        clevertap.privacy.push({ useIP: false }); //set the flag to true, if the user agrees to share their IP data
        clevertap.spa = true;
        (function () {
            var wzrk = document.createElement('script');
            wzrk.type = 'text/javascript';
            wzrk.async = true;
            wzrk.src = 'https://d2r1yp2w7bby2u.cloudfront.net/js/clevertap.min.js';
            // wzrk.src = 'clevertap.js'
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wzrk, s);
        })();
        sessionStorage['WZRK_D'] = "";
        // clevertap.event.push('aditi')
    </script>
</head>

<body>
    <script>
        if (clevertap) {
            clevertap.event.push('Product Eaten')
        }
    </script>
    <script type="text/javascript">
        function onClickOUL() {
            clevertap.onUserLogin.push({
                Site: {
                    Email: `qw${Math.ceil(
                        Math.random() * 10002312
                    )}@gmail.com`
                    // Email: "799726789@gmail.com"
                }
            });
            getLS();
        }

        function onClickOULSame() {
            let value = document.getElementById("constantOUL").value;
            clevertap.onUserLogin.push({
                Site: {
                    // Email: `${Math.ceil(Math.random() * 100012)}@gmail.com`
                    Identity: `${value}`
                }
            });
        }
        function onClickEvent() {
            let value = document.getElementById("constantEvent").value;
            clevertap.event.push(`${value}`);
        }

        function onClickOULIdentitySame() {
            let value = document.getElementById("constantOULIdentity").value;
            clevertap.onUserLogin.push({
                Site: {
                    // Email: `${Math.ceil(Math.random() * 100012)}@gmail.com`
                    Identity: `${value}`
                }
            });
            getLS();
        }

        function onClickPP() {
            clevertap.profile.push({
                Site: {
                    Email: `as${Math.ceil(
                        Math.random() * 10002320
                    )}@gmail.com`
                }
            });
            getLS();
        }

        function onClickPPSame() {
            let value = document.getElementById("constantPP").value;
            clevertap.profile.push({
                Site: {
                    Email: `${value}@gmail.com`
                }
            });
        }

        function onClickPPIdentitySame() {
            let value = document.getElementById("constantPPIdentity").value;
            clevertap.profile.push({
                Site: {
                    Identity: `${value}`
                }
            });
        }

        function onClickEP() {
            clevertap.event.push("Product Eaten");
            clevertap.event.push("Message Received");
            clevertap.event.push("Message Viewed");
            clevertap.event.push("Product add to cart");
            getLS();
        }

        function pushSelectedEvents() {
            var adc = document.getElementById("adc").checked;
            var ps = document.getElementById("ps").checked;
            var pv = document.getElementById("pv").checked;
            var amee = document.getElementById("amee").checked;
            var amee1 = document.getElementById("amee1").checked;
            var ameeatc = document.getElementById("amee-atc").checked;

            if (!adc && !ps && !pv && !amee && !amee1 && !ameeatc) {
                alert("Select atleast one event");
                return;
            }
            if (adc) clevertap.event.push("Added to Cart");
            if (ps) clevertap.event.push("Product Sold");
            if (pv) clevertap.event.push("Viewed");
            if (amee) clevertap.event.push("Amee");
            if (amee1) clevertap.event.push("Amee-01");
            if (ameeatc) clevertap.event.push("Added To Cart - Amee");

            document.getElementById("adc").checked = false;
            document.getElementById("ps").checked = false;
            document.getElementById("pv").checked = false;
            document.getElementById("amee").checked = false;
            document.getElementById("amee1").checked = false;
            document.getElementById("amee-atc").checked = false;
            getLS();
        }

        function getLS() {
            var LRU_CACHE = decodeURIComponent(localStorage["WZRK_X"]);
            var WZRK_K = decodeURIComponent(localStorage["WZRK_K"]);
            var WZRK_G = decodeURIComponent(localStorage["WZRK_G"]);
            var WZRK_EV = decodeURIComponent(localStorage["WZRK_EV"]);
            var WZRK_ARP = decodeURIComponent(localStorage["WZRK_ARP"]);

            var data = `<div>WZRK_K: ${WZRK_K}</div><br /><div>WZRK_G: ${WZRK_G}</div><br /><div>LRU_CAHCE: ${LRU_CACHE}</div><br /><div>WZRK_EV: ${WZRK_EV}</div><br /><div>WZRK_ARP: ${WZRK_ARP}</div>`;

            document.getElementById("lsData").innerHTML = data;
        }

        function clearLS() {
            localStorage.clear();
            getLS();
        }

        function getProfile() {
            var customerType = clevertap.profile.getAttribute("Customer type");
            console.log(customerType);
        }

        function addCallback() {
            clevertap.notificationCallback = function () {
                alert('Custom notification callback called')
            };
        }

        function enablePush() {
            clevertap.notifications.push({
                "titleText": "Would you like to receive Push Notifications?",
                "bodyText": "We promise to only send you relevant content and give you updates on your transactions",
                "okButtonText": "Ok",
                "rejectButtonText": "Cancel",
                "okButtonColor": "#F28046",
                "askAgainTimeInSeconds": 5,
                "serviceWorkerPath": "./clevertap_sw.js"
            });
        }
    </script>
    <h1>Clevertap Web SDK Demo</h1>
    <hr />
    <p>On User Login</p>
    <input type="text" id="constantOUL" class="textInput" placeholder="Add user identity" />
    <button onclick="onClickOULSame()" class="inputBtn">Login</button>
    <br />
    <hr />
    <p>Profile Push</p>
    <input type="text" id="constantPP" class="textInput" placeholder="Add profile identity" />
    <button onclick="onClickPPSame()" class="inputBtn">Profile Push</button>
    <hr />
    <p>Event Push</p>
    <input type="text" id="constantEvent" class="textInput" />
    <button onclick="onClickEvent()" class="inputBtn">Event Push</button>
    <br />
    <button id='language'>Inbox</button>

    <button onclick="addCallback()">Add Callback</button>
    <br />
    <br />
    <button onclick="enablePush()">Enable Push Notifications</button>
    <hr />
</body>

</html>